<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>Main Page</title>

    <!-- region CSS -->
    <!-- Bootstrap -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" rel="stylesheet">

    <!-- Bootstrap icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

    <!-- Main -->
    <link href="css/index.css" rel="stylesheet">
    <!-- endregion -->

    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="res/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="res/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="res/icons/favicon-16x16.png">
    <link rel="manifest" href="res/icons/site.webmanifest">
    <meta name="apple-mobile-web-app-status-bar" content="#3350cc" />
    <meta name="theme-color" content="#3350cc" />
</head>
<body>
<noscript>You will need JavaScript to run this application.</noscript>
<!-- region Scripts -->

<!-- Cookies -->
<script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>

<!-- Bootstrap -->
<script crossorigin="anonymous"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- Showdown -->
<script crossorigin="anonymous"
        integrity="sha384-GP2+CwBlakZSDJUr+E4JvbxpM75i1i8+RKkieQxzuyDZLG+5105E1OfHIjzcXyWH"
        src="https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js"></script>

<!-- Socket.io -->
<script src="https://cdn.jsdelivr.net/npm/socket.io@4.7.4/client-dist/socket.io.min.js"></script>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
        integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>

<!-- region Scripts -->

<!-- Settings -->
<script src="js/settings.js"></script>
<!-- Main -->
<script src="js/index.js"></script>
<!-- Audio -->
<script src="js/audio.js"></script>
<!-- Chat -->
<script src="js/chat.js"></script>
<!-- Outing -->
<script src="js/outing.js"></script>
<!-- Plan -->
<script src="js/plan.js"></script>

<!-- endregion -->

<!-- Entry Points -->
<div class="container text-center">
    <div class="row">
        <div class="col round-button" data-bs-target="#chatModal" data-bs-toggle="modal">
            <i class="bi bi-chat-dots-fill"></i>
            <a href="#">Chat</a>
        </div>
        <div class="col round-button" data-bs-target="#musicModal" data-bs-toggle="modal" onclick="loadAudio()">
            <i class="bi bi-music-note-beamed"></i>
            <a href="#">Music</a>
        </div>
        <div class="col round-button" data-bs-target="#outingModal" data-bs-toggle="modal" onclick="loadOuting()">
            <i class="bi bi-door-open-fill"></i>
            <a href="#">Outing</a>
        </div>
        <div class="col round-button" data-bs-target="#planModal" data-bs-toggle="modal" onclick="loadPlan()">
            <i class="bi bi-calendar-check-fill"></i>
            <a href="#">Plan</a>
        </div>
        <div class="col round-button" data-bs-target="#settingsModal" data-bs-toggle="modal" onclick="loadSettings()">
            <i class="bi bi-person-fill-gear"></i>
            <a href="#">Settings</a>
        </div>
    </div>
</div>

<!-- Chat Modal -->
<div aria-hidden="true" aria-labelledby="chatModalLabel" class="modal fade" id="chatModal" tabindex="-1">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="chatModalLabel"><i class="bi bi-chat-dots-fill"></i> Chat</h1>
                <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
            </div>
            <div class="modal-body">
                <div id="chat-msg-body"></div> <!-- The chat area -->
            </div>
            <div class="modal-footer">
                <div class="input-group mb-3"> <!-- Message input area -->
                    <input aria-describedby="basic-addon1" aria-label="Message..." class="form-control" id="chat-input"
                           placeholder="Message..."
                           type="text">
                    <button class="btn btn-primary" id="chat-send-btn" onclick="sendMsg();"><i class="bi bi-send"></i>
                    </button>
                </div>
                <button class="btn btn-secondary" data-bs-dismiss="modal" type="button"><i class="bi bi-x"></i> Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Music Modal -->
<div aria-hidden="true" aria-labelledby="musicModalLabel" class="modal fade" id="musicModal" tabindex="-1">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="musicModalLabel"><i class="bi bi-music-note-beamed"></i> Music</h1>
                <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
            </div>
            <div class="modal-body">
                <p>Tap on the song names to play</p>
                <p>While playing, please sit down and relax while the device captures the motion.</p>
                <ol class="list-group list-group-numbered" id="music-list"></ol>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal" type="button"><i class="bi bi-x"></i> Close
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Music Score Modal -->
<div aria-hidden="true" aria-labelledby="musicScoreModalLabel" class="modal fade" id="musicScoreModal" tabindex="-2">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="musicScoreModalLabel"><i class="bi bi-music-note-beamed"></i> <span id="musicScoreModalTitle"></span></h1>
                <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
            </div>
            <div class="modal-body">
                <section id="musicScoreModalSubtitle"></section>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal" type="button"><i class="bi bi-x"></i> Dismiss
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Outing Modal -->
<div aria-hidden="true" aria-labelledby="outingModalLabel" class="modal fade" id="outingModal" tabindex="-1">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="outingModalLabel"><i class="bi bi-door-open-fill"></i> Go for an
                    outing</h1>
                <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
            </div>
            <div class="modal-body">
                <!-- Session selection -->
                <label for="outing-session-select">Select a session:</label>
                <select class="form-select" id="outing-session-select" onchange="onOutingSessionChanged()">
                    <option value="0" selected>Select...</option>
                </select>

                <div id="outing-ttb">
                    <!-- Things to bring -->
                    <!-- <div class="form-check"> -->
                        <!-- <input class="form-check-input" disabled id="outing-1" type="checkbox" value=""> -->
                        <!-- <label class="form-check-label" for="outing-1"> -->
                            <!-- ABCD -->
                        <!-- </label> -->
                    <!-- </div> -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" type="button" onclick="toggleScanning()"><i class="bi bi-play-fill"
                id="scanning-i"></i>
                    <span id="scanning-start-stop">Start</span> Scanning
                </button>
                <button class="btn btn-secondary" data-bs-dismiss="modal" type="button"><i class="bi bi-x"></i> Close
                </button>
            </div>
        </div>
    </div>
</div>


<!-- Plan Modal -->
<div aria-hidden="true" aria-labelledby="planModalLabel" class="modal fade" id="planModal" tabindex="-1">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="planModalLabel"><i class="bi bi-calendar-check-fill"></i> Plan the day
                </h1>
                <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
            </div>
            <div class="modal-body">
                <p><i class="bi bi-calendar-date"></i> The date today is <span id="plan-date"></span>.</p>

                <div id="plan-body">
                    <!--                    <label class="input-group-text" for="plan-1-type">08:00</label>-->
                    <!--                    <select class="form-select" id="plan-1-type">-->
                    <!--                        <option value="0" selected>Event Type...</option>-->
                    <!--                        <option value="1">Work</option>-->
                    <!--                        <option value="2">Listen to music / Relax</option>-->
                    <!--                        <option value="3">Rest</option>-->
                    <!--                        <option value="4">Outing</option>-->
                    <!--                        <option disabled value>—————————————</option>-->
                    <!--                        <option value="5">Others</option>-->
                    <!--                    </select>-->
                    <!--                    <textarea aria-label="Description" class="form-control" placeholder="Description (Optional)"-->
                    <!--                              type="text"></textarea>-->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" data-bs-dismiss="modal" onclick="savePlan()" type="button"><i class="bi bi-floppy2-fill"></i>
                Save and close</button>
                <button class="btn btn-secondary" data-bs-dismiss="modal" type="button"><i class="bi bi-x"></i> Close
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Settings Modal -->
<div aria-hidden="true" aria-labelledby="settingsModalLabel" class="modal fade" id="settingsModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="settingsModalLabel"><i class="bi bi-person-fill-gear"></i> Settings
                </h1>
                <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
            </div>
            <div class="modal-body">
                <div class="input-group mb-3">
                      <label class="input-group-text">Dark Mode</label>
                      <select id="settings-dark" class="form-control" aria-label="Dark Mode">
                          <option value="device" selected>Follow system</option>
                          <option value="dark">Dark</option>
                          <option value="light">Light</option>
                      </select>
                </div>
                <div class="input-group mb-3">
                      <label class="input-group-text">Page Zoom</label>
                      <select id="settings-zoom" class="form-control" aria-label="Display Zoom">
                          <option value="200%">200%</option>
                          <option value="175%">175%</option>
                          <option value="150%">150%</option>
                          <option value="125%">125%</option>
                          <option value="100%" selected>100%</option>
                          <option value="75%">75%</option>
                      </select>
                </div>
                <div class="input-group mb-3">
                      <label class="input-group-text">Hostname</label>
                      <input type="text" class="form-control" id="settings-host" placeholder="192.168.0.1" required>
                      <span class="input-group-text">:</span>
                      <input type="text" class="form-control" id="settings-port" placeholder="8000" required>
                      <div class="invalid-feedback" id="invalid-host">Invalid hostname
                      </div>
                      <div class="invalid-feedback" id="invalid-port">Invalid port
                      </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="saveSettings()" type="button"><i class="bi bi-floppy2-fill"></i>
                Save and close</button>
                <button class="btn btn-secondary" data-bs-dismiss="modal" type="button"><i class="bi bi-x"></i> Close
                </button>
            </div>
        </div>
    </div>
</div>


</body>
</html>
